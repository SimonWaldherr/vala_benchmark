/* quicksort.c generated by valac 0.40.0, the Vala compiler
 * generated from quicksort.vala, do not modify */



#include <glib.h>
#include <glib-object.h>
#include <stdio.h>

#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))



void quicksort (gint** l,
                int* l_length1,
                gint lo,
                gint hi);
gint partition (gint** l,
                int* l_length1,
                gint lo,
                gint hi);
void _vala_main (void);


void
quicksort (gint** l,
           int* l_length1,
           gint lo,
           gint hi)
{
	if (lo < hi) {
		gint p = 0;
		gint _tmp0_;
		gint _tmp1_;
		gint _tmp2_;
		_tmp0_ = partition (l, l_length1, lo, hi);
		p = _tmp0_;
		_tmp1_ = p;
		quicksort (l, l_length1, lo, _tmp1_ - 1);
		_tmp2_ = p;
		quicksort (l, l_length1, _tmp2_ + 1, hi);
	}
}


gint
partition (gint** l,
           int* l_length1,
           gint lo,
           gint hi)
{
	gint result = 0;
	gint pivot = 0;
	gint _tmp0_;
	gint tmp = 0;
	gint i = 0;
	gint _tmp17_;
	gint _tmp18_;
	gint _tmp19_;
	gint _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
	gint _tmp23_;
	gint _tmp24_;
	_tmp0_ = (*l)[hi];
	pivot = _tmp0_;
	tmp = 0;
	i = lo - 1;
	{
		gint j = 0;
		j = lo;
		{
			gboolean _tmp1_ = FALSE;
			_tmp1_ = TRUE;
			while (TRUE) {
				gint _tmp3_;
				gint _tmp4_;
				gint _tmp5_;
				gint _tmp6_;
				if (!_tmp1_) {
					gint _tmp2_;
					_tmp2_ = j;
					j = _tmp2_ + 1;
				}
				_tmp1_ = FALSE;
				_tmp3_ = j;
				if (!(_tmp3_ < hi)) {
					break;
				}
				_tmp4_ = j;
				_tmp5_ = (*l)[_tmp4_];
				_tmp6_ = pivot;
				if (_tmp5_ < _tmp6_) {
					gint _tmp7_;
					gint _tmp8_;
					gint _tmp9_;
					gint _tmp10_;
					gint _tmp11_;
					gint _tmp12_;
					gint _tmp13_;
					gint _tmp14_;
					gint _tmp15_;
					gint _tmp16_;
					_tmp7_ = i;
					i = _tmp7_ + 1;
					_tmp8_ = j;
					_tmp9_ = (*l)[_tmp8_];
					tmp = _tmp9_;
					_tmp10_ = j;
					_tmp11_ = i;
					_tmp12_ = (*l)[_tmp11_];
					(*l)[_tmp10_] = _tmp12_;
					_tmp13_ = (*l)[_tmp10_];
					_tmp14_ = i;
					_tmp15_ = tmp;
					(*l)[_tmp14_] = _tmp15_;
					_tmp16_ = (*l)[_tmp14_];
				}
			}
		}
	}
	_tmp17_ = (*l)[hi];
	tmp = _tmp17_;
	_tmp18_ = i;
	_tmp19_ = (*l)[_tmp18_ + 1];
	(*l)[hi] = _tmp19_;
	_tmp20_ = (*l)[hi];
	_tmp21_ = i;
	_tmp22_ = tmp;
	(*l)[_tmp21_ + 1] = _tmp22_;
	_tmp23_ = (*l)[_tmp21_ + 1];
	_tmp24_ = i;
	result = _tmp24_ + 1;
	return result;
}


void
_vala_main (void)
{
	gint q = 0;
	gint* vals = NULL;
	gint _tmp0_;
	gint* _tmp1_;
	gint vals_length1;
	gint _vals_size_;
	GDateTime* start = NULL;
	GDateTime* _tmp10_;
	gint* _tmp11_;
	gint _tmp11__length1;
	FILE* _tmp12_;
	GDateTime* _tmp13_;
	GDateTime* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	q = 1000000;
	_tmp0_ = q;
	_tmp1_ = g_new0 (gint, _tmp0_);
	vals = _tmp1_;
	vals_length1 = _tmp0_;
	_vals_size_ = vals_length1;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp2_ = FALSE;
			_tmp2_ = TRUE;
			while (TRUE) {
				gint _tmp4_;
				gint _tmp5_;
				gint* _tmp6_;
				gint _tmp6__length1;
				gint _tmp7_;
				gint _tmp8_;
				gint _tmp9_;
				if (!_tmp2_) {
					gint _tmp3_;
					_tmp3_ = i;
					i = _tmp3_ + 1;
				}
				_tmp2_ = FALSE;
				_tmp4_ = i;
				_tmp5_ = q;
				if (!(_tmp4_ < _tmp5_)) {
					break;
				}
				_tmp6_ = vals;
				_tmp6__length1 = vals_length1;
				_tmp7_ = i;
				_tmp8_ = q;
				_tmp6_[_tmp7_] = (gint) g_random_int_range ((gint32) 0, (gint32) _tmp8_);
				_tmp9_ = _tmp6_[_tmp7_];
			}
		}
	}
	_tmp10_ = g_date_time_new_now_local ();
	start = _tmp10_;
	_tmp11_ = vals;
	_tmp11__length1 = vals_length1;
	quicksort (&vals, &vals_length1, 0, _tmp11__length1);
	_tmp12_ = stdout;
	_tmp13_ = g_date_time_new_now_local ();
	_tmp14_ = _tmp13_;
	_tmp15_ = g_strdup_printf ("%" G_GINT64_FORMAT, (gint64) g_date_time_difference (_tmp14_, start));
	_tmp16_ = _tmp15_;
	fprintf (_tmp12_, "ended after: %s\n", _tmp16_);
	_g_free0 (_tmp16_);
	_g_date_time_unref0 (_tmp14_);
	_g_date_time_unref0 (start);
	vals = (g_free (vals), NULL);
}


int
main (int argc,
      char ** argv)
{
	_vala_main ();
	return 0;
}



